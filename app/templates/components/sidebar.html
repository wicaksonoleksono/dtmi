<!-- Sidebar Component -->
<aside
  class="fixed left-0 top-0 h-full w-80 backdrop-blur-xl border-r transition-all duration-300 z-50 lg:z-20 flex flex-col"
  :class="[
    darkMode ? 'bg-claude-surface-dark/80 border-claude-border-dark' : 'bg-claude-surface/80 border-claude-border',
    sidebarOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'
  ]"
  x-transition:enter="transition ease-in-out duration-300 transform"
  x-transition:enter-start="-translate-x-full"
  x-transition:enter-end="translate-x-0"
  x-transition:leave="transition ease-in-out duration-300 transform"
  x-transition:leave-start="translate-x-0"
  x-transition:leave-end="-translate-x-full"
>
  <!-- Header -->
  <div
    class="p-6 border-b"
    :class="darkMode ? 'border-claude-border-dark' : 'border-claude-border'"
  >
    <div class="flex items-center justify-between mb-6">
      <div class="flex items-center space-x-3">
        <!-- Logo -->
        <div
          class="w-10 h-10 rounded-2xl shadow-lg flex items-center justify-center overflow-hidden"
        >
          <img
            src="{{ url_for('static', filename='favicon_io/tasyamaskot.webp') }}"
            alt="Tasya Avatar"
            class="w-full h-full object-cover"
          />
        </div>
        <!-- Sarjana -->
        <!-- https://drive.google.com/file/d/1iDqHO5yYnRmPpBEkRGgH62rUVPhWfp4R/view?usp=sharing -->
        <!-- magister -->
        <!-- https://drive.google.com/file/d/1VS7Ti6VTx6dpBqlTL29cq8e_OmKWhKVa/view?usp=sharing -->
        <!-- doktor  -->
        <!-- https://drive.google.com/file/d/1qgRy567cwUjQbULU3RVvAKDe1AFMLYME/view?usp=sharing -->

        <div>
          <h1 class="font-semibold text-lg">Tasya</h1>
          <p class="text-sm opacity-70">Tanya Saya !</p>
        </div>
      </div>

      <!-- Theme Toggle - Hidden on mobile -->
      <button
        @click="darkMode = !darkMode; localStorage.setItem('claude-theme', darkMode ? 'dark' : 'light')"
        class="hidden lg:block p-3 rounded-xl transition-all duration-300 hover:scale-105 active:scale-95"
        :class="darkMode ? 'bg-claude-border-dark hover:bg-gray-600' : 'bg-claude-border hover:bg-gray-200'"
      >
        <svg
          x-show="!darkMode"
          class="w-5 h-5 transition-transform duration-300"
          fill="currentColor"
          viewBox="0 0 20 20"
        >
          <path
            d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
          />
        </svg>
        <svg
          x-show="darkMode"
          class="w-5 h-5 transition-transform duration-300"
          fill="currentColor"
          viewBox="0 0 20 20"
        >
          <path
            fill-rule="evenodd"
            d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
            clip-rule="evenodd"
          />
        </svg>
      </button>
    </div>
  </div>

  <!-- Softcopy Dokumen Section -->
  <div
    class="px-6 pt-6 pb-4 border-b"
    :class="darkMode ? 'border-claude-border-dark' : 'border-claude-border'"
  >
    <h3 class="text-sm font-medium opacity-70 mb-3">Softcopy Dokumen</h3>
    <div class="space-y-2">
      <a
        href="https://drive.google.com/file/d/1iDqHO5yYnRmPpBEkRGgH62rUVPhWfp4R/view?usp=sharing"
        target="_blank"
        class="flex items-center gap-2 p-3 rounded-xl transition-all duration-200 hover:scale-[1.02]"
        :class="darkMode ? 'bg-claude-border-dark hover:bg-gray-600' : 'bg-claude-border hover:bg-gray-200'"
      >
        <svg
          class="w-4 h-4"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
          />
        </svg>
        <span class="text-sm">Sarjana</span>
      </a>
      <a
        href="https://drive.google.com/file/d/1VS7Ti6VTx6dpBqlTL29cq8e_OmKWhKVa/view?usp=sharing"
        target="_blank"
        class="flex items-center gap-2 p-3 rounded-xl transition-all duration-200 hover:scale-[1.02]"
        :class="darkMode ? 'bg-claude-border-dark hover:bg-gray-600' : 'bg-claude-border hover:bg-gray-200'"
      >
        <svg
          class="w-4 h-4"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
          />
        </svg>
        <span class="text-sm">Magister</span>
      </a>
      <a
        href="https://drive.google.com/file/d/1qgRy567cwUjQbULU3RVvAKDe1AFMLYME/view?usp=sharing"
        target="_blank"
        class="flex items-center gap-2 p-3 rounded-xl transition-all duration-200 hover:scale-[1.02]"
        :class="darkMode ? 'bg-claude-border-dark hover:bg-gray-600' : 'bg-claude-border hover:bg-gray-200'"
      >
        <svg
          class="w-4 h-4"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
          />
        </svg>
        <span class="text-sm">Doktor</span>
      </a>
    </div>
  </div>

  <!-- Predefined Prompts -->
  <div
    class="flex-1 flex flex-col pt-6 pb-6 overflow-hidden"
    x-data="promptManager()"
  >
    <div class="px-6 mb-4">
      <h3 class="text-sm font-medium opacity-70">Contoh Pertanyaan</h3>
    </div>

    <div
      class="flex-1 overflow-y-auto px-6"
      :class="darkMode ? 'bg-claude-surface-dark/95' : 'bg-claude-surface/95'"
      style="
        mask-image: linear-gradient(
          to bottom,
          white 0%,
          white 85%,
          transparent 100%
        );
      "
    >
      <div class="space-y-3 py-4">
        <template x-for="(prompt, index) in prompts" :key="index">
          <div
            class="p-4 rounded-xl cursor-pointer transition-all duration-200 hover:scale-[1.02] animate-fade-in"
            :class="darkMode ? 'bg-claude-border-dark hover:bg-gray-600' : 'bg-claude-border hover:bg-gray-200'"
            @click="usePrompt(prompt)"
          >
            <p class="text-sm font-medium mb-1" x-text="prompt.title"></p>
            <p class="text-xs opacity-70" x-text="prompt.description"></p>
          </div>
        </template>
      </div>
    </div>
  </div>

  <!-- Footer Info -->
  <div class="px-6 pb-6 pt-4">
    <!-- Reset Conversation Button -->
    <div class="mb-3">
      <a
        href="/reset-conversation"
        class="w-full flex items-center justify-center gap-2 p-3 rounded-xl transition-all duration-200 hover:scale-[1.02] active:scale-95"
        :class="darkMode ? 'bg-claude-surface-dark hover:bg-gray-600 border border-claude-border-dark' : 'bg-claude-surface hover:bg-gray-100 border border-claude-border'"
      >
        <svg
          class="w-4 h-4"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"
          />
        </svg>
        <span class="text-sm font-medium">Reset Percakapan</span>
      </a>
    </div>

    <div
      class="p-4 rounded-xl"
      :class="darkMode ? 'bg-claude-border-dark' : 'bg-claude-border'"
    >
      <p class="text-xs opacity-70 text-center">
        Departemen Teknik Mesin dan Industri<br />
        Universitas Gadjah Mada
      </p>
    </div>
  </div>
</aside>
